# üéâ TRC API (FastAPI + Alembic)

–ú–∞–ª–µ–Ω—å–∫–∏–π –∂–∞—Ä—Ç—ñ–≤–ª–∏–≤–∏–π –±–µ–∫–µ–Ω–¥ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ-—Ä–æ–∑–≤–∞–∂–∞–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä—É.  
–ú–æ–∂–Ω–∞:
- üéÇ –±—Ä–æ–Ω—é–≤–∞—Ç–∏ —Å–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è –î–†
- üçï –∑–∞–º–æ–≤–ª—è—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏
- üõí —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- üé§ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —ñ–≤–µ–Ω—Ç–∏
- üéü —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞ —ñ–≤–µ–Ω—Ç–∏

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

project/
‚îú‚îÄ‚îÄ .venv/                  # –í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ Python (–Ω–µ –≤–∫–ª—é—á–∞—Ç–∏ —É Git)
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/                # –†–æ—É—Ç–∏ FastAPI
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py
‚îÇ   ‚îú‚îÄ‚îÄ models/             # SQLAlchemy –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.py
‚îÇ   ‚îú‚îÄ‚îÄ db/                 # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ session.py
‚îÇ   ‚îú‚îÄ‚îÄ core/               # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É FastAPI
‚îú‚îÄ‚îÄ alembic/
‚îÇ   ‚îú‚îÄ‚îÄ versions/           # –Ü—Å—Ç–æ—Ä—ñ—è –º—ñ–≥—Ä–∞—Ü—ñ–π
‚îÇ   ‚îî‚îÄ‚îÄ env.py              # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Alembic
‚îú‚îÄ‚îÄ alembic.ini             # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª Alembic
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
‚îú‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É
‚îî‚îÄ‚îÄ trc.db                  # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
---

## üõ† –¢–∞–±–ª–∏—Ü—ñ –≤ –ë–î

### 1. `birthday_reservations`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | int | PK |
| first_name | str | –Ü–º‚Äô—è |
| last_name | str | –ü—Ä—ñ–∑–≤–∏—â–µ |
| date | datetime | –î–∞—Ç–∞ —Å–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è |
| guests | int | –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ—Å—Ç–µ–π |
| hall | str | –ó–∞–ª (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º "Main Hall") |
| special_requests | str | –û—Å–æ–±–ª–∏–≤—ñ –ø–æ–±–∞–∂–∞–Ω–Ω—è |
| created_at | datetime | –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è |

### 2. `products`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | int | PK |
| name | str | –ù–∞–∑–≤–∞ –ø—Ä–æ–¥—É–∫—Ç—É |
| price | float | –¶—ñ–Ω–∞ |
| category | str | –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –ø—Ä–æ–¥—É–∫—Ç—É |

### 3. `orders`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | int | PK |
| user_name | str | –Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| date | datetime | –î–∞—Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è |
| status | str | –°—Ç–∞—Ç—É—Å (pending –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) |

### 4. `order_items`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | int | PK |
| order_id | int | FK –Ω–∞ orders |
| product_id | int | FK –Ω–∞ products |
| quantity | int | –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—É |

### 5. `events`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | int | PK |
| title | str | –ù–∞–∑–≤–∞ —ñ–≤–µ–Ω—Ç—É |
| date | datetime | –î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è |
| location | str | –ú—ñ—Å—Ü–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è |
| price | float | –¶—ñ–Ω–∞ –∫–≤–∏—Ç–∫–∞ |

### 6. `event_registrations`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | int | PK |
| event_id | int | FK –Ω–∞ events |
| first_name | str | –Ü–º‚Äô—è —É—á–∞—Å–Ω–∏–∫–∞ |
| last_name | str | –ü—Ä—ñ–∑–≤–∏—â–µ —É—á–∞—Å–Ω–∏–∫–∞ |
| tickets | int | –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–≤–∏—Ç–∫—ñ–≤ |

---

## üöÄ –ï–Ω–¥–ø–æ—ó–Ω—Ç–∏

### üéÇ Birthday
- `POST /birthday/reserve` ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- `GET /birthday/list` ‚Äî —Å–ø–∏—Å–æ–∫ –±—Ä–æ–Ω—é–≤–∞–Ω—å

### üçï Products
- `POST /products/add` ‚Äî –¥–æ–¥–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç
- `GET /products` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤

### üõí Orders
- `POST /orders/create` ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `GET /orders/{order_id}` ‚Äî –ø–µ—Ä–µ–≥–ª—è–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### üé§ Events
- `POST /events/create` ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–≤–µ–Ω—Ç
- `GET /events` ‚Äî —Å–ø–∏—Å–æ–∫ —ñ–≤–µ–Ω—Ç—ñ–≤

### üéü Event Registrations
- `POST /events/{event_id}/register` ‚Äî —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ —ñ–≤–µ–Ω—Ç
- `GET /events/{event_id}/registrations` ‚Äî —Å–ø–∏—Å–æ–∫ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ–π

---

## ‚ö° –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É

1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
pip install -r requirements.txt
uvicorn main:app --reload